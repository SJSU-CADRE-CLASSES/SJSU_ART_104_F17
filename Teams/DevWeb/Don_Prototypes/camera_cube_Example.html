<!DOCTYPE html>
<html lang="en">
    <head>
        <title>three.js webgl - orbit controls</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <style>
            body {
                color: #000;
                font-family:Monospace;
                font-size:13px;
                text-align:center;
                font-weight: bold;
                background-color: #fff;
                margin: 0px;
                overflow: hidden;
            }
            #info {
                color:#000;
                position: absolute;
                top: 0px; width: 100%;
                padding: 5px;
            }
            a {
                color: red;
            }
        </style>
    </head>

    <body>
        <div id="container"></div>
        <div id="info">
            
        </div>

        <script src="three.js"></script>

        <script src="OrbitControls.js"></script>

        <script src="Detector.js"></script>
        <script src="stats.min.js"></script>

        <script>
            if ( ! Detector.webgl ) Detector.addGetWebGLMessage();
            var stats;
            var camera, controls, scene, renderer;
            init();
            render(); // remove when using next line for animation loop (requestAnimationFrame)
            //animate();
            function init() {
                scene = new THREE.Scene();
                scene.background = new THREE.Color( 0xffffff );
                scene.fog = new THREE.FogExp2( 0xcccccc, 0.002 );
                renderer = new THREE.WebGLRenderer();
                renderer.setPixelRatio( window.devicePixelRatio );
                renderer.setSize( window.innerWidth, window.innerHeight );
                var container = document.getElementById( 'container' );
                container.appendChild( renderer.domElement );
                camera = new THREE.PerspectiveCamera( 60, window.innerWidth / window.innerHeight, 1, 1000 );
                camera.position.z = 500;
                controls = new THREE.OrbitControls( camera, renderer.domElement );
                controls.addEventListener( 'change', render ); // remove when using animation loop
                // enable animation loop when using damping or autorotation
                //controls.enableDamping = true;
                //controls.dampingFactor = 0.25;
                controls.enableZoom = false;

                // world
                var len = 16;
                var hei = 8;
                geometry = new THREE.CubeGeometry(50, 50, 50);
                material = new THREE.MeshNormalMaterial({shading: THREE.SmoothShading});

                for ( var i = -8; i < len/2; i ++ ) {
                    for (var g = -4; g < hei/2; g ++) {
                        mesh = new THREE.Mesh(geometry, material);
                        mesh.castShadow = true;
                        scene.add(mesh);
                        mesh.position.y = (g * 65);
                        mesh.position.x = (i * 65);
                        }
                }


                // lights
                var light = new THREE.DirectionalLight( 0xffffff );
                light.position.set( 1, 1, 1 );
                scene.add( light );
                var light = new THREE.DirectionalLight( 0x002288 );
                light.position.set( -1, -1, -1 );
                scene.add( light );
                var light = new THREE.AmbientLight( 0x222222 );
                scene.add( light );
                //
                stats = new Stats();
                container.appendChild( stats.dom );
                //
                window.addEventListener( 'resize', onWindowResize, false );
            }
            function onWindowResize() {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize( window.innerWidth, window.innerHeight );
            }
            function animate() {
                requestAnimationFrame( animate );
                controls.update(); // required if controls.enableDamping = true, or if controls.autoRotate = true
                stats.update();
                render();
            }
            function render() {
                renderer.render( scene, camera );
            }
        </script>

    </body>
</html>